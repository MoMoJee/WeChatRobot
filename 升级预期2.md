# 升级预期

## 1. ui

ui在启动时、挂起时启动：

1. AI的网址、模型名称、对应的API及其备注名。用json记录。详情见下

1. 监听对象

2. 选择历史记录

3. 选择人格文件

只有1能够在运行中修改！



### 1.2 UI函数Setting的实现方式：

函数会直接在Main中调用，后三个很简单，而对于第一个：直接修改全局变量吧。。我懒改完之后调用AIConnect

注意，原有的read_api_key弃之不用，api直接用全局变量获得




### 1.3 针对read_api_key的修改

之后直接读取这个：

```json
[
  {
    "url": "https://api.deepseek.com",
    "model": "deepseek-chat",
    "api": "我的api",
    "api_name": "WeChatRobot_deepseek-chat",
    "code": 1
  },
  {
    "url": "https://api.moonshot.cn/v1",
    "model": "moonshot-v1-8k",
    "api": "我的api",
    "api_name": "WeChatRobot_moonshot-v1-8kt",
    "code": 2
  }
]
```

然后把选中的这一组写进全局变量。为了减少代码修改，就直接写五个全局变量吧，写一个的话还都得改一堆
说不定我明天又想改了





## 2. 给AI的聊天记录格式

1. 时间

2. 人名

3. 信息
